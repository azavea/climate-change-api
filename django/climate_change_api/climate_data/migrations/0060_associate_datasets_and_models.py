# -*- coding: utf-8 -*-
# Generated by Django 1.10.8 on 2017-09-08 13:57
from __future__ import unicode_literals

from django.db import migrations


NEX_GDDP_MODELS = [
    'ACCESS1-0',
    'BNU-ESM',
    'CCSM4',
    'CESM1-BGC',
    'CNRM-CM5',
    'CSIRO-Mk3-6-0',
    'CanESM2',
    'GFDL-CM3',
    'GFDL-ESM2G',
    'GFDL-ESM2M',
    'IPSL-CM5A-LR',
    'IPSL-CM5A-MR',
    'MIROC-ESM-CHEM',
    'MIROC-ESM',
    'MIROC5',
    'MPI-ESM-LR',
    'MPI-ESM-MR',
    'MRI-CGCM3',
    'NorESM1-M',
    'bcc-csm1-1',
    'inmcm4',
]


LOCA_MODELS = [
    'ACCESS1-0',
    'ACCESS1-3',
    'CCSM4',
    'CESM1-BGC',
    'CESM1-CAM5',
    'CMCC-CM',
    'CMCC-CMS',
    'CMCC-CM5',
    'CSIRO-Mk3-6-0',
    'CanESM2',
    'EC-EARTH',
    'FGOALS-g2',
    'GFDL-CM3',
    'GFDL-ESM2G',
    'GFDL-ESM2M',
    'GISS-E2-H',
    'GISS-E2-R',
    'HadGEM2-AO',
    'HadGEM2-CC',
    'HadGEM2-ES',
    'IPSL-CM5A-LR',
    'IPSL-CM5A-MR',
    'MIROC-ESM-CHEM',
    'MIROC-ESM',
    'MIROC5',
    'MPI-ESM-LR',
    'MPI-ESM-MR',
    'MRI-CGCM3',
    'NorESM1-M',
    'bcc-csm1-1-m',
    'bcc-csm1-1',
    'inmcm4',
]


def associate_climate_datasets_and_models(apps, schema_editor):

    def add_models_to_dataset(dataset_name, model_list):
        ClimateModel = apps.get_model('climate_data', 'ClimateModel')
        ClimateDataset = apps.get_model('climate_data', 'ClimateDataset')

        dataset = ClimateDataset.objects.get(name=dataset_name)
        for model_name in model_list:
            model = ClimateModel.objects.get(name=model_name)
            dataset.models.add(model)

    add_models_to_dataset('NEX-GDDP', NEX_GDDP_MODELS)
    add_models_to_dataset('LOCA', LOCA_MODELS)


class Migration(migrations.Migration):

    dependencies = [
        ('climate_data', '0059_add_datasets_models_manytomany'),
    ]

    operations = [
        migrations.RunPython(associate_climate_datasets_and_models, migrations.RunPython.noop)
    ]
